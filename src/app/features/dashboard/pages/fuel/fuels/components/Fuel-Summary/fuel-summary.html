<!-- Card Section -->
<div *ngIf="!isLoading()" class="max-w-[85rem] mb-4 mx-auto">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-0 border-y border-gray-200">

        <!-- Total Orders -->
        <div class="p-4 md:p-5 relative before:absolute before:top-0 bg-[#f6f4f4] 
                before:start-0 before:w-full before:h-px sm:before:w-px sm:before:h-full 
                before:bg-gray-200 first:before:bg-transparent">
            <div class="flex items-start gap-x-3">
                <i class='bx bx-list-ul text-2xl text-gray-500'></i>
                <div class="flex-1">
                    <div class="flex items-center gap-x-2">
                        <p class="text-xs uppercase text-gray-500">إجمالي الطلبات</p>
                        <div class="hs-tooltip">
                            <div class="hs-tooltip-toggle">
                                <i class='bx bx-info-circle text-gray-500 text-lg'></i>
                                <span class="hs-tooltip-content hs-tooltip-shown:opacity-100 
                             hs-tooltip-shown:visible opacity-0 transition-opacity 
                             inline-block absolute invisible z-10 py-1 px-2 
                             bg-gray-900 text-xs font-medium text-white rounded-md shadow-sm" role="tooltip">
                                    عدد الطلبات الكلي
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="mt-2">
                        <h3 class="text-2xl font-bold text-gray-800">{{ totalFuel() }}</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Approved -->
        <div class="p-4 md:p-5 relative before:absolute before:top-0 before:start-0 
                before:w-full before:h-px sm:before:w-px sm:before:h-full before:bg-gray-200">
            <div class="flex items-start gap-x-3">
                <i class='bx bx-check-circle text-2xl text-green-600'></i>
                <div class="flex-1">
                    <p class="text-xs uppercase text-gray-500">تمت الموافقة</p>
                    <div class="mt-2 space-y-1">
                        <h3 class="text-xl font-bold">{{ approved().totalApprovedAmount }} ر.س</h3>
                        <p class="text-sm text-gray-600 flex items-center gap-1">
                            <i class='bx bx-check text-green-500'></i>
                            <span>{{ approved().totalCount }} طلب</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pending -->
        <div class="p-4 md:p-5 relative before:absolute before:top-0 before:start-0 
                before:w-full before:h-px sm:before:w-px sm:before:h-full before:bg-gray-200">
            <div class="flex items-start gap-x-3">
                <i class='bx bx-hourglass text-2xl text-yellow-600'></i>
                <div class="flex-1">
                    <p class="text-xs uppercase text-gray-500">قيد الانتظار</p>
                    <div class="mt-2 space-y-1">
                        <h3 class="text-xl font-bold">{{ pending().totalApprovedAmount }} ر.س</h3>
                        <p class="text-sm text-gray-600 flex items-center gap-1">
                            <i class='bx bx-hourglass text-yellow-500'></i>
                            <span>{{ pending().totalCount }} طلب</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Declined -->
        <div class="p-4 md:p-5 relative before:absolute before:top-0 before:start-0 
                before:w-full before:h-px sm:before:w-px sm:before:h-full before:bg-gray-200">
            <div class="flex items-start gap-x-3">
                <i class='bx bx-block text-2xl text-red-600'></i>
                <div class="flex-1">
                    <p class="text-xs uppercase text-gray-500">مرفوض</p>
                    <div class="mt-2 space-y-1">
                        <h3 class="text-xl font-bold">{{ declined().totalApprovedAmount }} ر.س</h3>
                        <p class="text-sm text-gray-600 flex items-center gap-1">
                            <i class='bx bx-block text-red-500'></i>
                            <span>{{ declined().totalCount }} طلب</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Loading Skeleton -->
<ng-template #loading>
    <div class="max-w-[85rem] mx-auto">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="p-4 bg-gray-100 rounded animate-pulse">
                <div class="h-6 bg-gray-200 rounded w-20"></div>
                <div class="h-8 bg-gray-300 rounded mt-2 w-16"></div>
            </div>
            <!-- Repeat 3 times -->
            <div class="p-4 bg-gray-100 rounded animate-pulse">
                <div class="h-6 bg-gray-200 rounded w-20"></div>
                <div class="h-8 bg-gray-300 rounded mt-2 w-16"></div>
            </div>
            <div class="p-4 bg-gray-100 rounded animate-pulse">
                <div class="h-6 bg-gray-200 rounded w-20"></div>
                <div class="h-8 bg-gray-300 rounded mt-2 w-16"></div>
            </div>
            <div class="p-4 bg-gray-100 rounded animate-pulse">
                <div class="h-6 bg-gray-200 rounded w-20"></div>
                <div class="h-8 bg-gray-300 rounded mt-2 w-16"></div>
            </div>
        </div>
    </div>
</ng-template>

<div *ngIf="isLoading()" class="max-w-[85rem] mx-auto">
    <ng-container *ngTemplateOutlet="loading"></ng-container>
</div>