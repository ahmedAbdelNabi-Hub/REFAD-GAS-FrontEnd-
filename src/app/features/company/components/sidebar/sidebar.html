<!-- Toggle Button -->
<!-- <button (click)="toggleSidebar()"
    class="fixed top-[0px] z-50 bg-blue-800 flex items-center justify-center shadow-sm border text-white border-gray-300 rounded-full w-8 h-8   transition-all duration-300"
    [class.lg:right-[200px]]="!isCollapsed()" [class.lg:right-4]="isCollapsed()">
    <i class="text-xl bx " [ngClass]="{
    'bx-menu ': isCollapsed(),
    ' bx-chevron-right': !isCollapsed()
  }">
    </i>

</button> -->
<aside
    class="fixed top-0 z-30 right-0 h-full bg-white border-l border-gray-200 overflow-y-auto custom-scroll transition-all duration-300 transform flex flex-col"
    [class.translate-x-full]="isCollapsed()" [class.translate-x-0]="!isCollapsed()" [class.w-0]="isCollapsed()"
    [class.w-[250px]]="!isCollapsed()" [class.lg:translate-x-0]="!isCollapsed()">

    <!-- Logo -->
    <div class="flex items-center justify-center px-5 py-8">
        <img class="h-[70px]" src="../../../../../assets/logo2.png" alt="Logo">
    </div>

    <!-- Menu Items -->
    <nav class="flex-1 px-6 pb-4">
        <ul class="space-y-2">
            <li *ngFor="let item of menuItems">
                <a [class.active]="isActive(item.route!, item.includeRoutes)" [routerLink]="item.route"
                    routerLinkActive="bg-refad font-medium text-white" [routerLinkActiveOptions]="{exact:true}"
                    class="w-full flex font-bold items-center gap-1 px-3 p-0.5 rounded-2xl transition-colors duration-200 hover:bg-gray-100 text-gray-600 no-underline"
                    (click)="navigateTo(item)">

                    <div class="flex items-center justify-center w-8 h-8 rounded-lg">
                        <i class="bx text-xl" [class]="item.icon" routerLinkActive="font-semibold"></i>
                    </div>

                    <span *ngIf="!isCollapsed()" class="text-xs  flex-1 text-right">
                        {{ item.label }}
                    </span>

                    <i *ngIf="!isCollapsed() && item.children" class="bx bx-chevron-down text-lg transition-transform"
                        [class.rotate-180]="isMenuExpanded(item.id)"></i>
                </a>

                <!-- Submenu -->
                <ul *ngIf="item.children && isMenuExpanded(item.id) && !isCollapsed()" class="mt-1 mr-8 space-y-1">
                    <li *ngFor="let child of item.children">
                        <a [routerLink]="child.route" routerLinkActive="bg-refad text-white"
                            class="block w-full text-right px-4 py-2 text-sm text-gray-600 hover:text-black hover:bg-gray-50 rounded-lg transition-colors no-underline"
                            (click)="navigateTo(child)">
                            {{ child.label }}
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>

    <!-- Logout Button -->
    <div class="p-4 border-t border-gray-200">
        <button (click)="logout()"
            class="w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-600 hover:bg-red-50 transition-colors">
            <div class="flex items-center justify-center w-8 h-8 bg-red-100 rounded-lg">
                <i class="bx bx-log-out text-xl"></i>
            </div>
            <span *ngIf="!isCollapsed()" class="text-sm font-medium flex-1 text-right">
                تسجيل الخروج
            </span>
        </button>
    </div>
</aside>

<!-- Toggle Button (Mobile) -->
<button (click)="toggleSidebar()" class="fixed top-4 right-4 z-50 lg:hidden p-2 bg-white rounded-lg shadow-md">
    <i class="bx bx-menu text-2xl"></i>
</button>